name: "Security Analysis CodeQL Configuration"

disable-default-queries: false

queries:
  - uses: security-extended
  - uses: security-and-quality


query-filters:
  # Focus on security-related findings
  - include:
      kind: 
        - problem
        - path-problem
      tags:
        - security
        - external/cwe
  - exclude:
      kind: problem
    where:
      - "file:test/**"
      - "file:**/*test*"
      - "file:**/*spec*"
      - "file:**/node_modules/**"
      - "file:**/vendor/**"
      - "file:**/dist/**"
      - "file:**/build/**"
      - "file:**/.turbo/**"

paths:
  # Include specific paths for analysis
  - "services"
  - "packages"
  - "apps"

paths-ignore:
  # Exclude paths from analysis
  - "node_modules"
  - "vendor"
  - "dist"
  - "build"
  - ".turbo"
  - "coverage"
  - "*.min.js"
  - "*.bundle.js"
  - "test/**"
  - "tests/**"
  - "**/*test*"
  - "**/*spec*"
  - ".github"
  - ".git"
  - ".jj"